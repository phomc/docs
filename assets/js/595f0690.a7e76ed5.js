"use strict";(self.webpackChunkphomc_docs=self.webpackChunkphomc_docs||[]).push([[6620],{3905:(e,n,t)=>{t.d(n,{Zo:()=>d,kt:()=>f});var r=t(7294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var m=r.createContext({}),c=function(e){var n=r.useContext(m),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},d=function(e){var n=c(e.components);return r.createElement(m.Provider,{value:n},e.children)},s="mdxType",p={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},h=r.forwardRef((function(e,n){var t=e.components,i=e.mdxType,a=e.originalType,m=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),s=c(t),h=i,f=s["".concat(m,".").concat(h)]||s[h]||p[h]||a;return t?r.createElement(f,o(o({ref:n},d),{},{components:t})):r.createElement(f,o({ref:n},d))}));function f(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var a=t.length,o=new Array(a);o[0]=h;var l={};for(var m in n)hasOwnProperty.call(n,m)&&(l[m]=n[m]);l.originalType=e,l[s]="string"==typeof e?e:i,o[1]=l;for(var c=2;c<a;c++)o[c]=t[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,t)}h.displayName="MDXCreateElement"},2279:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>m,contentTitle:()=>o,default:()=>s,frontMatter:()=>a,metadata:()=>l,toc:()=>c});var r=t(7462),i=(t(7294),t(3905));const a={sidebar_position:5},o="Unidentified Grimoire",l={unversionedId:"grimoire/items/unidentified_grimoire",id:"grimoire/items/unidentified_grimoire",title:"Unidentified Grimoire",description:"Unidentified Grimoire can be obtained using Scriptorium.",source:"@site/docs/grimoire/items/unidentified_grimoire.md",sourceDirName:"grimoire/items",slug:"/grimoire/items/unidentified_grimoire",permalink:"/grimoire/items/unidentified_grimoire",draft:!1,editUrl:"https://github.com/phomc/docs/blob/main/docs/grimoire/items/unidentified_grimoire.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"grimoireSidebar",previous:{title:"Gemstone",permalink:"/grimoire/items/gemstone"},next:{title:"Scriptorium",permalink:"/grimoire/scriptorium"}},m={},c=[{value:"Reveal Unidentified Grimoire",id:"reveal-unidentified-grimoire",level:2},{value:"Enchantment randomization algorithm",id:"enchantment-randomization-algorithm",level:2},{value:"Enchantment",id:"enchantment",level:3},{value:"Level",id:"level",level:2}],d={toc:c};function s(e){let{components:n,...t}=e;return(0,i.kt)("wrapper",(0,r.Z)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"unidentified-grimoire"},"Unidentified Grimoire"),(0,i.kt)("p",null,"Unidentified Grimoire can be obtained using Scriptorium."),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://i.imgur.com/rzRXalc.png",alt:"Scriptorium"})),(0,i.kt)("p",null,"Every Grimoire has intrinsic element which is the gemstone associated. In other words, the type of inkwell will determinate the type of Unidentified Grimoire.",(0,i.kt)("br",null),"\nIntrinsic element is used to determine the output when players reveal the item."),(0,i.kt)("h2",{id:"reveal-unidentified-grimoire"},"Reveal Unidentified Grimoire"),(0,i.kt)("p",null,"To identify a Grimoire, right-clicks it with a campfire. The item will turn into an enchanted book with random enchantment and level."),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://i.imgur.com/5j426Sj.png",alt:"Campfire"})),(0,i.kt)("h2",{id:"enchantment-randomization-algorithm"},"Enchantment randomization algorithm"),(0,i.kt)("p",null,"Enchantment and level is both chosen using roulette selection.",(0,i.kt)("br",null),"\nThe important factor in the process is gemstone. Better gemstone gains more advantage."),(0,i.kt)("h3",{id:"enchantment"},"Enchantment"),(0,i.kt)("p",null,"First, a pool of Grimoire enchantment is determined from gemstone:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Topaz: up to Uncommon enchantments"),(0,i.kt)("li",{parentName:"ol"},"Sapphire: up to Rare enchantments"),(0,i.kt)("li",{parentName:"ol"},"Jade: up to Rare enchantments"),(0,i.kt)("li",{parentName:"ol"},"Musgravite: up to Very Rare enchantments")),(0,i.kt)("p",null,"Then do roulette selection over the pool to pick a candidate. The weight used is the enchantment's rarity weight."),(0,i.kt)("h2",{id:"level"},"Level"),(0,i.kt)("p",null,"With the candidate from previous step, we will find its enchantment level. Level determination is a bit more complex.",(0,i.kt)("br",null),"\nFirst, we find the rarity difference ",(0,i.kt)("inlineCode",{parentName:"p"},"order(Gemstone's rarity) - order(Enchantment's rarity)"),", with rarity order is:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"order(Common) = 0"),(0,i.kt)("li",{parentName:"ol"},"order(Uncommon) = 1"),(0,i.kt)("li",{parentName:"ol"},"order(Rare) = 2"),(0,i.kt)("li",{parentName:"ol"},"order(Very Rare) = 3")),(0,i.kt)("p",null,"Then, given a is the maximum level and b is the rarity difference, the weight of enchantment level n is ",(0,i.kt)("inlineCode",{parentName:"p"},"max(0, 1 - (n - 1)/a + b * 0.1) * 100"),(0,i.kt)("br",null),"\nThis means that: "),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"A better gemstone not only allows rarer enchantments but also better chance to obtain high enchantment levels. For example: We can obtain Poison with any gemstone because Poison is in common rarity group, so for economic reason, Topaz is enough. However, using Sapphire, Jade or even Musgravite allows better chance in reaching maximum level."),(0,i.kt)("li",{parentName:"ul"},"We can not gain advantage with a few enchantments. For example, Rift is a very rare enchantment which is only obtainable using Musgravite. There is no higher gemstone than Musgravite to gain rarity difference.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"PROBABILITY PER ENCHANTMENT LEVEL\nIf maximum level = 1\n- and rarity diff = 0, then chances per level = 100.00%\n- and rarity diff = 1, then chances per level = 100.00%\n- and rarity diff = 2, then chances per level = 100.00%\n- and rarity diff = 3, then chances per level = 100.00%\nIf maximum level = 2\n- and rarity diff = 0, then chances per level = 66.67%, 33.33%\n- and rarity diff = 1, then chances per level = 64.71%, 35.29%\n- and rarity diff = 2, then chances per level = 63.16%, 36.84%\n- and rarity diff = 3, then chances per level = 61.90%, 38.10%\nIf maximum level = 3\n- and rarity diff = 0, then chances per level = 50.00%, 33.33%, 16.67%\n- and rarity diff = 1, then chances per level = 47.83%, 33.33%, 18.84%\n- and rarity diff = 2, then chances per level = 46.15%, 33.33%, 20.51%\n- and rarity diff = 3, then chances per level = 44.83%, 33.33%, 21.84%\nIf maximum level = 4\n- and rarity diff = 0, then chances per level = 40.00%, 30.00%, 20.00%, 10.00%\n- and rarity diff = 1, then chances per level = 37.93%, 29.31%, 20.69%, 12.07%\n- and rarity diff = 2, then chances per level = 36.36%, 28.79%, 21.21%, 13.64%\n- and rarity diff = 3, then chances per level = 35.14%, 28.38%, 21.62%, 14.86%\nIf maximum level = 5\n- and rarity diff = 0, then chances per level = 33.33%, 26.67%, 20.00%, 13.33%, 6.67%\n- and rarity diff = 1, then chances per level = 31.43%, 25.71%, 20.00%, 14.29%, 8.57%\n- and rarity diff = 2, then chances per level = 30.00%, 25.00%, 20.00%, 15.00%, 10.00%\n- and rarity diff = 3, then chances per level = 28.89%, 24.44%, 20.00%, 15.56%, 11.11%\nIf maximum level = 6\n- and rarity diff = 0, then chances per level = 28.57%, 23.81%, 19.05%, 14.29%, 9.52%, 4.76%\n- and rarity diff = 1, then chances per level = 26.83%, 22.76%, 18.70%, 14.63%, 10.57%, 6.50%\n- and rarity diff = 2, then chances per level = 25.53%, 21.99%, 18.44%, 14.89%, 11.35%, 7.80%\n- and rarity diff = 3, then chances per level = 24.53%, 21.38%, 18.24%, 15.09%, 11.95%, 8.81%\n")))}s.isMDXComponent=!0}}]);